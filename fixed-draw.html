<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ORACLE - Fixed Draw</title>
    <link rel="stylesheet" href="styles.css" />
</head>
<body class="dark-theme">
    <header class="main-header">
        <span class="site-title">ORACLE</span>
        <button class="theme-toggle" aria-label="Toggle theme">ðŸŒ™</button>
    </header>
    <nav class="tab-nav">
        <button class="tab-btn" data-tab="today">Today's Tips</button>
        <button class="tab-btn active" data-tab="history">History</button>
    </nav>
    <div id="today" class="section">
        <div id="password-prompt" class="section active">
            <div class="password-box">
                <h2>Enter Password to Access Today's Fixed Draw Tips</h2>
                <input type="password" id="password-input" placeholder="Enter password" aria-label="Password input" />
                <button id="submit-password">Submit</button>
                <a href="http://wa.me/+25765777318" target="_blank" class="get-password-btn" aria-label="Get password via WhatsApp">Get Password ðŸ”‘</a>
                <p id="error-message" style="color: var(--fail-color); display: none;">Incorrect password. Please try again.</p>
            </div>
        </div>
        <div id="today-content" class="section" style="display: none;">
            <div class="date-section" id="today-date"></div>
            <div id="today-matches"></div>
        </div>
    </div>
    <div id="history" class="section active">
        <div id="history-matches"></div>
    </div>
    <nav class="main-nav">
        <a href="index.html" class="nav-link">Home</a>
        <a href="fixed-draw.html" class="nav-link active">Fixed Draw</a>
        <a href="correct-score.html" class="nav-link">Correct Score</a>
    </nav>
    <script src="scripts.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const correctPassword = '3344';
            const passwordPrompt = document.getElementById('password-prompt');
            const todayContent = document.getElementById('today-content');
            const errorMessage = document.getElementById('error-message');
            const passwordInput = document.getElementById('password-input');
            const submitButton = document.getElementById('submit-password');

            submitButton.addEventListener('click', () => {
                if (passwordInput.value === correctPassword) {
                    passwordPrompt.style.display = 'none';
                    todayContent.style.display = 'block';
                    loadTodayContent();
                } else {
                    errorMessage.style.display = 'block';
                    passwordInput.value = '';
                }
            });

            passwordInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    submitButton.click();
                }
            });

            function loadTodayContent() {
                const todayMatches = [
                    {
                        country: 'EGYPT',
                        team: 'Tanta FC vs Asyut Petroleum',
                        pick: 'Draw',
                        odds: 2.70,
                        result: '---',
                        code: '5L5A1V'
                    },
                    {
                        country: 'EGYPT',
                        team: 'Aswan FC vs Baladiyyat AL Mehalla',
                        pick: 'Draw',
                        odds: 2.65,
                        result: '---',
                        code: '564D0K'
                    }
                ];

                document.getElementById('today-date').textContent = new Date().toLocaleDateString('en-US', { 
                    month: 'long', 
                    day: 'numeric', 
                    year: 'numeric',
                    timeZone: 'Africa/Nairobi'
                }).toUpperCase();

                if (todayMatches.length > 0) {
                    document.getElementById('today-matches').innerHTML = todayMatches.map(createMatchBoxHTML).join('');
                } else {
                    document.getElementById('today-matches').innerHTML = '<div class="no-matches">No matches available today</div>';
                }
            }

            const historyMatches = [
                {
                    date: 'AUGUST 22, 2025',
                    matches: [
                        { country: 'EGYPT', team: 'El Sekka El Hadid vs El Terasanah', pick: 'Draw', odds: 2.70, result: '(0:0)won', code: '5L3F41' },
                        { country: 'ARGENTINA', team: 'Barracas Central vs Defensa y Justicia', pick: 'Draw', odds: 3.00, result: '(1:1)won', code: '5JD6BH' }
                    ]
                },
                {
                    date: 'AUGUST 21, 2025',
                    matches: [
                        { country: 'EGYPT', team: 'Smouha SC vs Zed FC', pick: 'Draw', odds: 2.70, result: '(1:1)won', code: '63H1VT' },
                        { country: 'EGYPT', team: 'Al Mokawloon Al Arab vs Haras El Hodood', pick: 'Draw', odds: 2.80, result: '(0:0)won', code: '58WPK0' }
                    ]
                },
                {
                    date: 'AUGUST 20, 2025',
                    matches: [
                        { country: 'EGYPT', team: 'El Gouna FC vs Ghazl El Mahallah', pick: 'Draw', odds: 2.75, result: '(0:0)won', code: '62GLMW' }
                    ]
                },
                {
                    date: 'AUGUST 18, 2025',
                    matches: [
                        { country: 'ARGENTINA', team: 'CA Claypole vs Justo Jose de Urquiza', pick: 'Draw', odds: 2.75, result: '(0:0)won', code: '5BJUSB' },
                        { country: 'IRAN', team: 'Gol Gohar Sirjan FC vs Aluminium Arak', pick: 'Draw', odds: 2.80, result: '---', code: '6X52QZ' },
                        { country: 'IRAN', team: 'Kheybar Khorramabad FC vs Mes Rafsanjan FC', pick: 'Draw', odds: 2.60, result: '---', code: '594JNE' }
                    ]
                },
                {
                    date: 'AUGUST 16, 2025',
                    matches: [
                        { country: 'ROMANIA', team: 'FC Petrolul Ploiesti vs AFC Hermannstadt', pick: 'Draw', odds: 3.10, result: '(1:1)won', code: '55TH9P' }
                    ]
                },
                {
                    date: 'AUGUST 15, 2025',
                    matches: [
                        { country: 'TUNISIA', team: 'Olympique de Beja vs AS Gabes', pick: 'Draw(0:0)', odds: 5.21, result: '(0:0)won', code: '6CBLA2' }
                    ]
                }
            ];

            document.getElementById('history-matches').innerHTML = historyMatches.map(day => `
                <div class="date-section">${day.date}</div>
                ${day.matches.map(createMatchBoxHTML).join('')}
            `).join('');

            function createMatchBoxHTML(match) {
                const teamNames = match.team.split(' vs ');
                let resultClass = match.result.includes('won') ? 'result-success' : (match.result !== '---' ? 'result-fail' : '');
                return `
                    <div class="match-box">
                        <p><strong>Country:</strong> ${match.country}</p>
                        <div class="team-names">
                            <p>${teamNames[0]}</p>
                            <span class="team-vs">vs</span>
                            <p>${teamNames[1] || ''}</p>
                        </div>
                        <p><strong>Prediction:</strong> ${match.pick}</p>
                        <p><strong>Odds:</strong> ${match.odds}</p>
                        <p><strong>Result:</strong> <span class="${resultClass}">${match.result}</span></p>
                        <div class="code-box" data-code="${match.code}">SportyBet Code: ${match.code}</div>
                    </div>
                `;
            }

            setupTabs();
            setupCopyCode();
            setupThemeToggle();
        });
    </script>
</body>
</html>